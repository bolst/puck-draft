@inject AuthenticationStateProvider AuthStateProvider

<AuthorizeView>
    <Authorized>
        <MudMenu Class="mb-2" PopoverClass="pa-2" AnchorOrigin="Origin.CenterRight" TransformOrigin="Origin.TopRight" Variant="Variant.Text" LockScroll>
            <ActivatorContent>
                <MudFab Label="@context.User.Identity?.Name?.FirstOrDefault().ToString()" Color="Color.Info" />
            </ActivatorContent>
            <ChildContent>
                <MudStack AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween" Row>
                    <MudAvatar Color="Color.Info" Size="Size.Small" Variant="Variant.Text">@context.User.Identity?.Name?.FirstOrDefault().ToString().ToUpper()</MudAvatar>
                    <MudText Typo="Typo.body1">@context.User.Identity?.Name</MudText>
                </MudStack>

                <MudDivider Class="my-2"/>
                
                <MudNavLink Href="/settings" Icon="@Icons.Material.Filled.Settings" IconColor="Color.Inherit">Settings</MudNavLink>

                <MudNavLink Href="/Account/Logout" Icon="@Icons.Material.Filled.Logout" IconColor="Color.Inherit">Log out</MudNavLink>
            </ChildContent>
        </MudMenu>
    </Authorized>    
    <NotAuthorized>
        <CustomNavLink Href="/Account/Login" Icon="@Icons.Material.Filled.Login" IconColor="Color.Inherit">Login</CustomNavLink>
    </NotAuthorized>
</AuthorizeView>

